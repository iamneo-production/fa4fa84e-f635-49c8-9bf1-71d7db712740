<app-userdashboard></app-userdashboard>

<div class="container" *ngIf="show">
  <div class="profile-container">
    <div *ngFor="let prof of profileData" class="profile-item">
      <div class="profile-field"><strong>Email:</strong> {{ prof.email }}</div>
      <div class="profile-field"><strong>Username:</strong> {{ prof.userName }}</div>
      <div class="profile-field"><strong>Mobile Number:</strong> {{ prof.mobileNumber }}</div>
      <div class="profile-field"><strong>Password:</strong> {{ prof.password }}</div>
      
      <div class="profile-actions">
        <button (click)="onedit(prof);scrollPageToTop()" class="btn btn-primary">Edit</button>
        <button (click)="ondel()" class="btn btn-danger">Delete</button>
      </div>
    </div>
  </div>
</div>




<div class="container1" *ngIf="display">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <h1 class="text-center" style="color:rgb(16, 4, 105);">Edit Your Details</h1>
      <br>
      <form [formGroup]="editUser">

        <div class="form-group">
          <label for="id">User ID   </label>
          <input formControlName="id" type="number" class="form-control" id="id" readonly placeholder="User Id">
        </div>


        <div class="form-group">
          <label for="userRole">User Role</label>
          <select formControlName="userRole" id="userRole" [disabled]="true"  class="form-control">
            <option value="">select</option>
            <option value="user">User</option>
            <option value="admin">Admin</option>
          </select>
          <small *ngIf="editUser.controls['userRole'].touched && editUser.hasError('required', 'userRole')">User type is required</small>
        </div>

        <div class="form-group">  
          <label for="email">Email</label>
          <input formControlName="email" type="email" class="form-control" id="email" readonly placeholder="Email">
          <small *ngIf="editUser.controls['email'].touched && editUser.hasError('required', 'email')">Email is required</small>
          <small *ngIf="editUser.controls['email'].touched && editUser.hasError('email', 'email')">Invalid Email</small>
        </div>

        <div class="form-group">
          <label for="username">Username</label>
          <input formControlName="userName" type="text" class="form-control" id="username" placeholder="Username">
          <small *ngIf="editUser.controls['userName'].touched && editUser.hasError('required', 'userName')">Username is required</small>
        </div>

        <div class="form-group">
          <label for="mobilenumber">Mobile Number</label>
          <input formControlName="mobileNumber" type="tel" class="form-control" id="mobileNumber" readonly placeholder="Mobile Number">
          <small *ngIf="editUser.controls['mobileNumber'].touched && editUser.hasError('required', 'mobileNumber')">Mobile Number is required</small>
          <small *ngIf="editUser.controls['applicantMobile'].touched && editUser.hasError('pattern','applicantMobile')" class="text-danger">Invalid Format</small>
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <div class="input-group">
            <input formControlName="password" type="{{passType}}" class="form-control" id="password" placeholder="Enter Password">
            <div class="input-group-append">
              <span class="input-group-text password-toggle-icon-p" (click)="toggle()" *ngIf="!showPass">
                <i>[icon]="faEyeSlash"></i>
              </span>
              <span class="input-group-text password-toggle-icon-p" (click)="toggle()" *ngIf="showPass">
                <i> [icon]="faEye"></i>
              </span>
            </div>
          </div>
          <small *ngIf="editUser.controls['password'].touched && editUser.hasError('required', 'password')">Password is required</small>
          <small *ngIf="editUser.controls['password'].touched && editUser.hasError('pattern', 'password')">Invalid password formet</small>
        </div>
  
        <div class="form-group">
          <label for="confirmpassword">Confirm Password</label>
          <div class="input-group">
            <input formControlName="confirmpassword" type="{{confirmPassType}}" class="form-control" id="confirmpassword" placeholder="Confirm Password">
            <div class="input-group-append">
              <span class="input-group-text password-toggle-icon-cp" (click)="toggleConfirmPass()" *ngIf="!showConfirmPass">
                <i>[icon]="faEyeSlash"</i>
              </span>
              <span class="input-group-text password-toggle-icon-cp" (click)="toggleConfirmPass()" *ngIf="showConfirmPass">
               <i>[icon]="faEye"</i>
              </span>
            </div>
          </div>
          <small *ngIf="editUser.controls['confirmpassword'].dirty && editUser.get('confirmpassword')?.hasError('passwordMismatch')">Password does not match</small>
        </div>
      </form>
      <button (click)="onupdate()" type="submit" class="btn btn-primary">Update</button>
    </div>
  </div>
</div>
  